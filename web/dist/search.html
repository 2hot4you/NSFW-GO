<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>搜索 - NSFW-GO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="static/css/design-system.css">
    <link rel="stylesheet" href="static/css/components.css">
</head>

<body class="bg-dark text-main font-sans antialiased selection:bg-primary selection:text-white">
    <div class="flex h-screen overflow-hidden">
        <!-- 侧边栏容器 -->
        <div id="sidebar-container"></div>

        <!-- 主内容区 -->
        <div class="flex-1 flex flex-col h-screen overflow-hidden relative">
            <!-- 顶部装饰 -->
            <div
                class="absolute top-0 left-0 w-full h-64 bg-gradient-to-b from-primary/5 to-transparent pointer-events-none z-0">
            </div>

            <!-- 搜索头部 -->
            <header class="relative z-20 px-6 lg:px-10 pt-6 pb-4 bg-dark/80 backdrop-blur-md border-b border-white/5">
                <div class="max-w-7xl mx-auto">
                    <div class="relative">
                        <i
                            class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-muted text-lg"></i>
                        <input type="text" id="search-input"
                            class="w-full bg-white/5 border border-white/10 rounded-xl py-4 pl-12 pr-4 text-white placeholder-muted focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all text-lg"
                            placeholder="搜索番号、标题、演员...">
                        <button id="search-btn"
                            class="absolute right-2 top-1/2 transform -translate-y-1/2 btn btn-primary py-2 px-6 rounded-lg">
                            搜索
                        </button>

                        <!-- 搜索建议下拉框 -->
                        <div id="suggestions-dropdown"
                            class="absolute top-full left-0 w-full bg-gray-900 border border-white/10 rounded-xl mt-2 shadow-2xl z-50 hidden overflow-hidden">
                            <!-- 建议项将通过JS动态插入 -->
                        </div>
                    </div>

                    <!-- 搜索过滤器 -->
                    <div class="flex flex-wrap gap-4 mt-4">
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" id="search-local"
                                class="form-checkbox text-primary rounded bg-white/10 border-white/20" checked>
                            <span class="text-sm text-gray-300">本地库</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" id="search-rankings"
                                class="form-checkbox text-primary rounded bg-white/10 border-white/20" checked>
                            <span class="text-sm text-gray-300">排行榜</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" id="search-javdb"
                                class="form-checkbox text-primary rounded bg-white/10 border-white/20">
                            <span class="text-sm text-gray-300">JAVDb</span>
                        </label>

                        <!-- JAVDb 选项 -->
                        <div id="javdb-options"
                            class="hidden flex items-center space-x-4 ml-4 border-l border-white/10 pl-4">
                            <span class="text-xs text-muted">JAVDb 类型:</span>
                            <label class="flex items-center space-x-2 cursor-pointer">
                                <input type="radio" name="javdb-type" value="auto"
                                    class="form-radio text-primary bg-white/10 border-white/20" checked>
                                <span class="text-xs text-gray-300">自动</span>
                            </label>
                            <label class="flex items-center space-x-2 cursor-pointer">
                                <input type="radio" name="javdb-type" value="code"
                                    class="form-radio text-primary bg-white/10 border-white/20">
                                <span class="text-xs text-gray-300">番号</span>
                            </label>
                            <label class="flex items-center space-x-2 cursor-pointer">
                                <input type="radio" name="javdb-type" value="actor"
                                    class="form-radio text-primary bg-white/10 border-white/20">
                                <span class="text-xs text-gray-300">演员</span>
                            </label>
                        </div>
                    </div>
                </div>
            </header>

            <!-- 滚动内容区 -->
            <main class="flex-1 overflow-y-auto relative z-10 custom-scrollbar p-6 lg:p-10">
                <div class="max-w-7xl mx-auto">

                    <!-- 加载状态 -->
                    <div id="loading-state" class="hidden flex flex-col items-center justify-center py-20">
                        <div
                            class="w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mb-6">
                        </div>
                        <p class="text-muted text-lg">正在搜索全网资源...</p>
                    </div>

                    <!-- 空状态 -->
                    <div id="empty-state" class="flex flex-col items-center justify-center py-32 text-center">
                        <div class="w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mb-6">
                            <i class="fas fa-search text-4xl text-muted"></i>
                        </div>
                        <h2 class="text-2xl font-bold text-white mb-2">开始探索</h2>
                        <p class="text-muted max-w-md">输入番号、标题或演员名字，我们将为您搜索本地库、排行榜以及 JAVDb 在线资源。</p>
                    </div>

                    <!-- 无结果状态 -->
                    <div id="no-results" class="hidden flex flex-col items-center justify-center py-32 text-center">
                        <div class="w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mb-6">
                            <i class="fas fa-ghost text-4xl text-muted"></i>
                        </div>
                        <h2 class="text-2xl font-bold text-white mb-2">未找到结果</h2>
                        <p class="text-muted max-w-md">尝试使用不同的关键词，或者检查您的拼写。</p>
                    </div>

                    <!-- 搜索结果容器 -->
                    <div id="search-results" class="hidden space-y-10">
                        <div class="flex items-center justify-between mb-6">
                            <h2 id="results-title" class="text-xl font-bold text-white">搜索结果</h2>
                            <div class="flex gap-4 text-sm text-muted">
                                <span id="results-stats"></span>
                                <span class="hidden">本地: <span id="local-count">0</span></span>
                                <span class="hidden">排行榜: <span id="rankings-count">0</span></span>
                                <span class="hidden">JAVDb: <span id="javdb-count">0</span></span>
                            </div>
                        </div>

                        <!-- 本地结果 -->
                        <div id="local-results-section" class="hidden">
                            <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
                                <i class="fas fa-hdd text-primary mr-2"></i>本地媒体库
                            </h3>
                            <div id="local-movies-grid"
                                class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">
                                <!-- JS 注入 -->
                            </div>
                        </div>

                        <!-- 排行榜结果 -->
                        <div id="rankings-results-section" class="hidden">
                            <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
                                <i class="fas fa-chart-line text-yellow-500 mr-2"></i>排行榜
                            </h3>
                            <div id="rankings-grid"
                                class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">
                                <!-- JS 注入 -->
                            </div>
                        </div>

                        <!-- JAVDb 结果 -->
                        <div id="javdb-results-section" class="hidden">
                            <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
                                <i class="fas fa-globe text-purple-500 mr-2"></i>JAVDb 在线资源
                            </h3>
                            <div id="javdb-results-container">
                                <!-- JS 注入 -->
                            </div>
                        </div>
                    </div>

                </div>
            </main>
        </div>
    </div>

    <script src="static/js/components.js"></script>
    <script src="static/js/sidebar.js"></script>
    <script src="static/js/search.js"></script>
</body>

</html>