# ========================
# NSFW-GO 环境变量配置模板
# ========================
# 复制此文件为 .env 并修改配置
# cp .env.example .env

# ========================
# 基础配置
# ========================
# 应用运行模式: debug, release, test
APP_MODE=release

# 时区设置
TZ=Asia/Shanghai

# ========================
# 数据库配置 (PostgreSQL)
# ========================
# 数据库主机（容器内使用服务名）
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
# 外部访问端口（宿主机）
POSTGRES_EXTERNAL_PORT=5433

# 数据库名称
POSTGRES_DB=nsfw_db

# 数据库用户名
POSTGRES_USER=nsfw

# 数据库密码（请修改为强密码！）
POSTGRES_PASSWORD=your_secure_password_here

# ========================
# Redis 配置
# ========================
REDIS_HOST=redis
REDIS_PORT=6379
# 外部访问端口（宿主机）
REDIS_EXTERNAL_PORT=6380

# Redis 密码（可选，留空表示不设密码）
REDIS_PASSWORD=

# Redis 数据库编号
REDIS_DB=0

# ========================
# API 服务配置
# ========================
# API 服务端口
API_PORT=8080

# API 运行模式：debug 或 release
API_MODE=release

# 日志级别：debug, info, warn, error
LOG_LEVEL=info

# ========================
# 媒体库配置
# ========================
# 本地媒体库路径（绝对路径）
# 示例: /volume1/media/NSFW 或 /media/NSFW
MEDIA_BASE_PATH=/media/NSFW

# 媒体扫描间隔（支持格式: 15m, 1h, 30m）
MEDIA_SCAN_INTERVAL=15m

# 支持的视频格式（逗号分隔）
MEDIA_SUPPORTED_FORMATS=mp4,mkv,avi,mov,wmv

# ========================
# 爬虫配置
# ========================
# JAVDb 基础 URL
CRAWLER_JAVDB_URL=https://javdb.com

# 排行榜爬取计划（Cron 表达式，默认每日 12:00）
CRAWLER_RANKING_SCHEDULE=0 12 * * *

# 本地匹配检查计划（Cron 表达式，默认每小时）
CRAWLER_LOCAL_CHECK_SCHEDULE=0 * * * *

# 请求超时时间
CRAWLER_REQUEST_TIMEOUT=30s

# 代理设置（可选，留空表示不使用代理）
# 格式: http://proxy.example.com:8080 或 socks5://proxy.example.com:1080
CRAWLER_PROXY=

# ========================
# 种子下载配置（可选）
# ========================
# Jackett API 地址
JACKETT_URL=http://jackett:9117

# Jackett API Key
JACKETT_API_KEY=your_jackett_api_key

# qBittorrent Web UI 地址
QBITTORRENT_URL=http://qbittorrent:8085

# qBittorrent 用户名
QBITTORRENT_USERNAME=admin

# qBittorrent 密码
QBITTORRENT_PASSWORD=adminpass

# qBittorrent 下载目录
QBITTORRENT_DOWNLOAD_DIR=/downloads

# ========================
# Nginx 配置（可选）
# ========================
# 是否启用 Nginx 反向代理
ENABLE_NGINX=false

# Nginx HTTP 端口
NGINX_HTTP_PORT=80

# Nginx HTTPS 端口
NGINX_HTTPS_PORT=443

# ========================
# 管理工具配置（可选）
# ========================
# 是否启用 pgAdmin
ENABLE_PGADMIN=false

# pgAdmin 访问端口
PGADMIN_PORT=5050

# pgAdmin 登录邮箱
PGADMIN_EMAIL=admin@nsfw.local

# pgAdmin 登录密码
PGADMIN_PASSWORD=admin123

# 是否启用 Redis Commander
ENABLE_REDIS_COMMANDER=false

# Redis Commander 端口
REDIS_COMMANDER_PORT=8081

# ========================
# 监控配置（可选）
# ========================
# 是否启用 Prometheus 监控
ENABLE_MONITORING=false

# Prometheus 端口
PROMETHEUS_PORT=9090

# Grafana 端口
GRAFANA_PORT=3000

# Grafana 管理员密码
GRAFANA_PASSWORD=admin123

# ========================
# Telegram Bot 配置（可选）
# ========================
# 是否启用 Telegram Bot
ENABLE_BOT=false

# Telegram Bot Token
TELEGRAM_BOT_TOKEN=

# ========================
# 安全配置
# ========================
# CORS 允许的域名（逗号分隔，* 表示允许所有）
CORS_ALLOWED_ORIGINS=*

# API 速率限制（请求数/分钟）
RATE_LIMIT=100

# ========================
# 高级配置（通常不需要修改）
# ========================
# 数据库连接池大小
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5

# 数据库连接超时
DB_CONN_MAX_LIFETIME=5m

# API 请求超时
API_TIMEOUT=30s

# 文件上传大小限制（MB）
MAX_UPLOAD_SIZE=100
